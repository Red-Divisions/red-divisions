(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{670:function(e,t,a){},678:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a(2),c=a(0),o=a.n(c),s=a(427),l=a(3),i=a(539),u=a(435),b=a(671),d=a(5),m=a(57),p=a(67),f=a(458),v=a.n(f),g=(a(670),a(12)),j=Object(c.memo)(Object(s.a)(function(e){var t=e.history,a=e.episodes,s=e.season,f=e.seasonIndex,j=e.server,O=e.language,y=e.selectedSource,_=Object(c.useGlobal)("navContent"),E=Object(r.a)(_,1)[0],h=Object(c.useGlobal)("theme"),w=Object(r.a)(h,1)[0],S=Object(c.useGlobal)("emptyDiv"),N=Object(r.a)(S,1)[0],k=Object(c.useGlobal)("currentSource"),x=Object(r.a)(k,1)[0],C=Object(c.useGlobal)("episodeSources").slice(-1),R=Object(r.a)(C,1)[0],T=Object(c.useGlobal)("currentMedia").slice(-1),B=Object(r.a)(T,1)[0],F=Object(c.useGlobal)("selectFuncs").slice(-1),G=Object(r.a)(F,1)[0],M=Object(c.useGlobal)("globalEpisode"),I=Object(r.a)(M,1)[0],A=Object(c.useState)(),D=Object(r.a)(A,2),L=D[0],U=D[1],W=Object(c.useState)(re({source:x})),z=Object(r.a)(W,2),H=z[0],P=z[1],V=Object(c.useState)(a),K=Object(r.a)(V,2),J=K[0],Z=K[1],q=Object(c.useState)(!1),Q=Object(r.a)(q,2),X=Q[0],Y=Q[1],$=Object(c.useRef)(),ee=Object(c.useRef)(),te=Object(c.useRef)(),ae=j===g.site_shortname,ne=Boolean(Array.isArray(J)&&J[0]&&J[0].sources);function re(e){var t=0;return a.some(function(a,n){if(a.retrieve_url&&e.retrieve_url&&Object(d.compare)(a.retrieve_url,e.retrieve_url))return t=n,!0;if(a.title&&e.title&&Object(d.compare)(a.title,e.title)){if(a.episode_number&&e.episode_number&&Object(d.compare)(a.episode_number,e.episode_number))return t=n,!0;if(a.ova_number&&e.ova_number&&Object(d.compare)(a.ova_number,e.ova_number))return t=n,!0}return!1}),t}function ce(e){var a=re(e);Array.isArray(e.sources)?ue(e,a):t.push("?s=".concat(j,"&t=").concat(O,"&ss=").concat(f,"&e=").concat(a))}function oe(e){var t=re(e);return!!Object(d.compare)({s:j,t:O,ss:f,e:t},y)&&(Object(d.compare)(L,J[t])||(U(J[t]),P(t)),!0)}function se(){var e,a=0===H;a||($.current&&$.current.enable?(t.push("?s=".concat($.current.source,"&t=").concat($.current.language,"&ss=").concat(f,"&e=").concat(a?H:H-1).concat($.current.uncensored?"&u=1":"").concat($.current.fan?"&f=1":"")),e=!0):$.current||(t.push("?s=".concat(j,"&t=").concat(O,"&ss=").concat(f,"&e=").concat(a?H:H-1)),e=!0),e&&Object(l.j)("Previous Episode"))}function le(){var e,a=H===J.length-1;a||(ee.current&&ee.current.enable?(t.push("?s=".concat(ee.current.source,"&t=").concat(ee.current.language,"&ss=").concat(f,"&e=").concat(a?H:H+1).concat(ee.current.uncensored?"&u=1":"").concat(ee.current.fan?"&f=1":"")),e=!0):ee.current||(t.push("?s=".concat(j,"&t=").concat(O,"&ss=").concat(f,"&e=").concat(a?H:H+1)),e=!0),e&&Object(l.j)("Next Episode"))}function ie(e,t,a){var n=e.source,r=e.language,c=e.uncensored,o=e.fan,s=J[a?t+1:t-1];if(s&&s.sources){var l=Object(d.searchForKeyValue)(s.sources,{key:"source",value:n,validator:function(e){return e.language===r&&e.uncensored===c&&e.fan===o}})[0];if(l)return l.value||{}}return{}}function ue(e,a,n){R([t,f,w,s,E,N,e,a,n]),Object(i.b)(t,f,w,s,E,N,e,a,n)}Object(c.useEffect)(function(){R([t,f,w,s,E,N,I,re(I),!0])},[]),Object(c.useEffect)(function(){if(Number.isFinite(H)&&x){var e=ie(x,H),t=ie(x,H,!0);$.current=Object(n.a)({},e,{enable:Boolean(Object.values(e).length)}),ee.current=Object(n.a)({},t,{enable:Boolean(Object.values(t).length)})}},[x,H]),Object(c.useEffect)(function(){return L&&(B(L),P(re(L)),G({playPrevEpisode:se,playNextEpisode:le})),function(){B(""),G("")}},[L]);var be=function(e){te.current=setTimeout(ue,1500,e,void 0,!1)},de=function(){te.current&&clearTimeout(te.current)};function me(e){return e}return J?o.a.createElement(o.a.Fragment,null,L&&o.a.createElement(m.a,{keyName:"b,n",onKeyDown:function(e,t){if(!(document.activeElement instanceof HTMLInputElement))switch(t.preventDefault(),e){case"b":se();break;case"n":le()}}}),o.a.createElement(p.a,{standalone:!0,placeholder:"   Search Episodes...",customFunc:function(e,t){Object(d.err)(function(){return t.preventDefault()}),Y(!0);var n=Object(d.err)(function(){return decodeURIComponent(e.q).toLowerCase().replace(/[^A-Za-z0-9 ]/g,"")},!0);Z(a.filter(function(e){return Object(d.err)(function(){return[e.episode_number?String(e.episode_number):null,e.ova_number?String(e.ova_number):null,e.title].filter(function(e){return e}).some(function(e){return e&&e.toLowerCase().replace(/[^A-Za-z0-9 ]/g,"")[Number.isFinite(Number(e))?"startsWith":"includes"](n)})},!0)}))}}),X&&o.a.createElement("span",{className:"menuBtn",onClick:function(){Y(!1),Z(a)},style:{color:w.text_header_color,textAlign:"center",margin:"0 auto",paddingBottom:"20px",display:"block"}},o.a.createElement("i",{className:"material-icons",style:{display:"block"}},"close"),"Clear Results"),o.a.createElement("ul",{className:"collection",style:{border:"none"}},o.a.createElement(b.c,null,function(e){var t=e.height,a=(e.isScrolling,e.onChildScroll,e.scrollTop);return o.a.createElement(b.a,{disableHeight:!0},function(e){var r=e.width;return o.a.createElement(b.b,{autoHeight:!0,height:t,width:r,scrollTop:a,rowCount:J.length,rowHeight:ne?170:137,rowRenderer:function(e){var t=e.key,a=e.index,r=(e.isScrolling,e.isVisible,e.style);return o.a.createElement("li",{key:J[me(a)].title+String(a)+t,onClick:ce.bind(void 0,J[me(a)]),onMouseDown:be.bind(void 0,J[me(a)]),onMouseUp:de,onDragEnd:de,onTouchStart:be.bind(void 0,J[me(a)]),onTouchEnd:de,className:"waves-effect waves-light no-select collection-item avatar".concat(oe(J[me(a)])?" active":""),style:Object(n.a)({},r,{cursor:"pointer",paddingLeft:"100px",borderBottom:"1px solid ".concat(oe(J[me(a)])?w.text_primary_color:w.tertiary_color),backgroundColor:oe(J[me(a)])?w.tertiary_color:"transparent"})},o.a.createElement("div",{style:{width:"75px"}},o.a.createElement(u.c,{className:"circle",src:Object(l.e)(J[me(a)].thumbnail,void 0,320).poster||Object(l.e)(s.season_poster_wide,void 0,320).poster||E.poster||v.a},function(e){var t=e.imageProps,a=e.imageState,n=e.ref;return o.a.createElement("img",Object.assign({},t,{alt:"",ref:n,src:a===u.a.LoadSuccess?t.src:v.a,style:{filter:X?"blur(5.5px)":void 0,borderRadius:"0",width:"inherit",height:"auto"},className:t.className+(a===u.a.LoadSuccess?" animate-opacity":"")}))})),o.a.createElement("div",{style:{marginTop:"-11px",color:w.text_header_color}},o.a.createElement("h6",{className:"title hide-truncate flow-text",style:{paddingRight:"42px"}},J[me(a)].season_title&&J[me(a)].title&&!J[me(a)].title.startsWith(J[me(a)].season_title)?"".concat(J[me(a)].season_title).concat(J[me(a)].season_title.endsWith(":")||J[me(a)].title.startsWith(":")?" ":": ").concat(J[me(a)].title):J[me(a)].title),!X&&o.a.createElement("p",{style:{color:w.text_primary_color},className:"hide-truncate"},J[me(a)].description||E.description)),o.a.createElement("span",{style:{backgroundColor:oe(J[me(a)])?w.background_color:w.tertiary_color,color:w.text_header_color,top:"10px"},"data-badge-caption":"",className:"secondary-content new badge"},"movie_listing"===J[me(a)].media_type||"movie"===J[me(a)].media_type?"Movie":parseInt(J[me(a)].episode_number)?"EP ".concat(J[me(a)].episode_number):"OVA".concat(J[me(a)].ova_number?" "+J[me(a)].ova_number:"")),ae&&(J[me(a)].is_subbed||J[me(a)].is_dubbed)&&o.a.createElement("span",{style:{backgroundColor:oe(J[me(a)])?w.background_color:w.tertiary_color,color:w.text_header_color,bottom:"10px",top:"auto",left:"16px"},"data-badge-caption":"",className:"secondary-content new badge"},J[me(a)].is_subbed&&J[me(a)].is_dubbed?"SUBS | DUBS":J[me(a)].is_subbed?"SUBS":"DUBS"))}})})}))):o.a.createElement(o.a.Fragment,null)})),O=Object(c.memo)(function(e){var t=e.server,a=e.season,n=e.seasonIndex,s=e.language,l=e.selectedSource,i=Object(c.useGlobal)("theme"),u=Object(r.a)(i,1)[0],b=Object(c.useRef)(),m=function(){return Object(d.err)(function(){window.dispatchEvent(new Event("resize")),window.dispatchEvent(new Event("scroll"))})},p=Object(d.compare)({server:t,language:s,seasonIndex:n},{server:l.s,language:l.t,seasonIndex:l.ss});Object(c.useEffect)(function(){var e=window.M.Collapsible.init(b.current,{onOpenEnd:m});return p&&setTimeout(function(){return e.close()},100),function(){return Object(d.err)(function(){return e.destroy()})}},[t,a,n]),Object(c.useEffect)(function(){p&&m()},[t,a,n]);var f=Object(c.useRef)(),v=Object(c.useState)(!1),g=Object(r.a)(v,2),O=g[0],y=g[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{ref:b,className:"collapsible z-depth-0",style:{border:"none",margin:"0"}},o.a.createElement("li",{ref:f,className:p?"active":void 0},o.a.createElement("div",{onClick:function(){return Object(d.err)(function(){return y(f.current.classList.contains("active"))})},className:"collapsible-header",style:{backgroundColor:u[p?"primary_color":"tertiary_color"],color:p?"rgba(255,255,255,0.8)":u.text_header_color,padding:"0"}},o.a.createElement("div",{style:{display:"flex",fontWeight:p?"700":void 0,backgroundColor:p?void 0:"rgba(255, 255, 255, 0.25)",padding:"1rem",width:"100%"}},o.a.createElement("i",{className:"material-icons"},"video_label"),a.title||"specials"!==a.type?a.title+(a.max_season?a.min_season?" (Seasons ".concat(a.min_season,"-").concat(a.max_season,")"):" (Up to Season ".concat(a.max_season,")"):""):"Specials",o.a.createElement("i",{className:"material-icons",style:void 0},"keyboard_arrow_".concat(O?"down":"up")))),o.a.createElement("div",{className:"collapsible-body"},o.a.createElement("span",null,o.a.createElement(j,Object.assign({episodes:a.episodes},e)))))))}),y=Object(c.memo)(function(e){var t=e.server,a=e.seasons,n=e.selectedSource,s=Object(c.useGlobal)("theme"),l=Object(r.a)(s,1)[0],i=Object(c.useRef)();Object(c.useEffect)(function(){var e=window.M.Tabs.init(i.current);return function(){return Object(d.err)(function(){return e.destroy()})}},[]);var u=Object.keys(a).map(function(e){return{language:e,seasons:a[e]}}).filter(function(e){return e.seasons.length}),b=function(e){var t=e.server,a=e.language;return Object(d.compare)({server:t,language:a},{server:n.s,language:n.t})};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col s12",style:{padding:"0"}},o.a.createElement("ul",{ref:i,className:"tabs",style:{backgroundColor:l.secondary_color,overflow:"hidden"}},u.map(function(e,a){var n=e.language;return o.a.createElement("li",{key:t+n+String(a),className:"tab col s3"},o.a.createElement("a",{style:{color:l.primary_color},className:b({server:t,language:n})?"active":void 0,href:"#".concat(t+n)},o.a.createElement("i",{style:{margin:"12px -31px",position:"absolute"},className:"material-icons"},"subs"===n?"subtitles":"dubs"===n?"record_voice_over":"video_label"),t===g.site_shortname?"Seasons":n))}))),u.map(function(a,n){var r=a.language,c=a.seasons;return o.a.createElement("div",{key:t+r+String(n),id:t+r,className:"col s12",style:{padding:"0"}},c.map(function(t,a){return o.a.createElement(O,Object.assign({key:t.title+String(a),season:t,seasonIndex:a,language:r},e))}))})))}),_=Object(c.memo)(function(e){var t=e.seasons,a=e.selectedSource,n=Object(c.useGlobal)("theme"),s=Object(r.a)(n,1)[0],l=Object(c.useRef)();Object(c.useEffect)(function(){var e=window.M.Tabs.init(l.current);return function(){return Object(d.err)(function(){return e.destroy()})}},[t]);var i=Object.keys(t).map(function(e){return{server:e,seasons:t[e]}});i.forEach(function(e){var t=e.seasons;Object.keys(t).some(function(e){return Boolean(t[e].length)})||Object(d.err)(function(){var e=Object(d.searchForKeyValue)(i,{value:t,key:"seasons"})[0].full_key;i.splice(parseInt([e.split(".")[0]]),1)})});var u=function(e){return Object(d.compare)(e,a.s)},b="s".concat(Math.random().toString(36).substr(2,10));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row ".concat(b)},o.a.createElement("div",{className:"col s12",style:{borderTop:"1px solid rgba(160,160,160,0.2)",padding:"0"}},o.a.createElement("ul",{ref:l,className:"tabs",style:{backgroundColor:s.background_color,overflow:"hidden"}},i.map(function(e,t){var a=e.server;return o.a.createElement("li",{key:a+String(t),className:"tab col s3"},o.a.createElement("a",{style:{color:s.primary_color},className:u(a)?"active":void 0,href:"#".concat(a)},a===g.site_shortname?"Media":"Server ".concat(t+1)))}))),i.map(function(e,t){var n=e.server,r=e.seasons;return o.a.createElement("div",{key:n+String(t),id:n,className:"col s12"},o.a.createElement(y,{server:n,seasons:r,selectedSource:a}))})),o.a.createElement("style",null,"\n                .".concat(b," .tabs .indicator {\n                    background-color: ").concat(s.primary_color,"\n                }\n                .").concat(b," .hide-truncate {\n                    -webkit-box-orient: vertical;\n                }\n            ")))});t.default=_}}]);